<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Questao 1</title>
    <script>
        function menu() {
            let opcao
            let casa = {andarAcrecimo: 0, solAcrecimo: 0}
            opcoes:
            while (opcao != 4) {
                opcao = Number(prompt("1: Valor total\n 2:Acrecimo em função do andar\n 3:Acrecimo em função da posição do sol\n 4:Sair"))
                switch (opcao) {
                    case 1:
                        let metragem = Number(prompt("Metragem do apartamento?(m^2)"))
                        let qtdGaragem = Number(prompt("Numero de garagens?"))
                        if (metragem <= 80) {
                            casa.valor = 300000 + 20000*(qtdGaragem-1)
                        } else if (metragem <= 120) {
                            casa.valor = 400000 + 20000*(qtdGaragem-1)
                        } else {
                            casa.valor = 500000 + 20000*(qtdGaragem-1)
                        }
                        break
                    case 2:
                        let andar = Number(prompt("Qual o andar do apartamento (1,2,3)?"))
                        if (andar == 1) {
                            casa.andarAcrecimo = 10000
                        } else if (andar == 2) {
                            casa.andarAcrecimo = 20000
                        } else if (andar == 3) {
                            casa.andarAcrecimo = 30000
                        } else {
                            alert("Andar invalido!!!")
                        }
                        break
                    case 3:
                        let pos = prompt("Posição do sol (M, T)?")
                        if (pos.toLowerCase() == "m") {
                            casa.solAcrecimo = 0.05
                        } else if (pos.toLowerCase() == "t"){
                            casa.solAcrecimo = 0.08
                        }
                        break
                    case 4:
                        break
                    default:
                        alert("Opção invalida!")
                        break
                }
                if (!casa.valor) {
                    alert(` Acrecimo em função do andar: R$ ${(casa.andarAcrecimo).toFixed(2)}\n Acrecimo em função do sol: ${casa.solAcrecimo*100}%`)
                } else {
                    let valorTotal = (casa.valor + casa.andarAcrecimo)*(casa.solAcrecimo + 1)
                    alert(` Valor total: R$ ${valorTotal.toFixed(2)}\n Acrecimo em função do andar: R$ ${(casa.andarAcrecimo).toFixed(2)}\n Acrecimo em função do sol: ${casa.solAcrecimo*100}%`)
                }
                console.log(casa)
            }
        }
    </script>
</head>
<body>
    <h1>Atividade avaliativa 1</h1>
    <button onclick="menu()">Calcular valor</button:onclick>
</body>
</html>